---
description: USE WHEN modifying files to check agent ownership boundaries
globs:
alwaysApply: false
---

# Agent File Boundaries

You (Cursor) own all production code. Claude Code owns coordination and docs.
See AGENTS.md and .ai/boundaries.md for the complete map.

## Your Domain (Cursor)

- `src/agents/**` — entire AI agent system:
  - `src/agents/core/` — AgentRunner, LLM client, lane queue
  - `src/agents/skills/` — game command tool definitions
  - `src/agents/perception/` — PerceptionEngine
  - `src/agents/memory/` — AgentMemory
  - `src/agents/bridge/` — GameChannelAdapter, RPGJS integration
- `src/modules/main/server/**` — all server-side game code:
  - `src/modules/main/server/events/` — NPC/Event classes
  - `src/modules/main/server/maps/` — map classes and .tmx files
  - `src/modules/main/server/database/` — game items
  - `src/modules/main/server/player.ts` — player hooks
- `src/modules/main/client/**` — all client-side code
- `src/config/` — agent personality YAML configs
- `maps/` — Tiled map files
- `assets/` — sprites, tilesets

## Do NOT Modify (Claude Code's Domain)

- `AGENTS.md`, `CLAUDE.md` — agent coordination docs
- `.ai/**` — task coordination, status, templates
- `docs/**` — architecture documentation
- `idea/**` — project vision and research documents
- `src/server.ts` — server entry point
- `src/client.ts` — client entry point
- `src/modules/main/index.ts` — module registration
- Root configs: `package.json`, `tsconfig*.json`, `rpg.toml`

## Auto-Generated Files (Do NOT Edit)

- `node_modules/`
- `dist/`
- Any files generated by `rpgjs build`

## If You Need a Change Outside Your Domain

Note it in your task file's handoff notes and set status to BLOCKED.
